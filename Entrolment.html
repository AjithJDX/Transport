<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Example</title>
    <!-- Latest Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <!-- jQuery Validation CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.css">
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="https://cdn.vectorstock.com/i/1000v/76/89/truck-logo-vector-45757689.jpg">
    <link rel="icon" type="image/png" sizes="16x16" href="https://cdn.vectorstock.com/i/1000v/76/89/truck-logo-vector-45757689.jpg">
    <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.vectorstock.com/i/1000v/76/89/truck-logo-vector-45757689.jpg">
    <link rel="icon" type="image/x-icon" href="https://cdn.vectorstock.com/i/1000v/76/89/truck-logo-vector-45757689.jpg">
    <meta name="theme-color" content="#ffffff"> <!-- For Chrome and Android -->
    <style>
        /* body {
            font-family: 'Nunito', sans-serif;
            background-repeat: no-repeat;
            height: 100vh;
            background-position: center;
            background-size: cover;
            background-image: url('https://img.freepik.com/premium-photo/there-is-truck-that-is-driving-down-street-with-many-boxes-it-generative-ai_1034997-104410.jpg?w=1060');
            font-weight: 600;
            color: white;
        } */
        body {
            font-family: 'Nunito', sans-serif;
            background-repeat: no-repeat;
            height: 100vh;
            background-position: center;
            background-size: cover;
            background-image: url('https://img.freepik.com/premium-photo/picture-city-with-car-driving-road_1088754-13022.jpg?w=996');
            font-weight: 600;
            color: white;
        }
        .form-control {
            border-color: white;
            border-bottom: 2px solid blue;
        }
        .form-control:focus {
            color: #212529;
            background-color: #fff;
            border-color: white;
            border-bottom: 2px solid blue;
            outline: 0;
            box-shadow: 0 0 0 .25rem rgba(255, 255, 255, 0.25);
        }
        .form-select {
            border-color: white;
            border-bottom: 2px solid blue;
        }
        .form-select:focus {
            color: #212529;
            background-color: #fff;
            border-color: white;
            border-bottom: 2px solid blue;
            outline: 0;
            box-shadow: 0 0 0 .25rem rgba(255, 255, 255, 0.25);
        }
        #navbarNav {
            justify-content: center;
        }
        .container-fluid {
            width: 95%;
        }
        .underline {
            position: relative;
            color: red;
        }
        .underline::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -5px;
            width: 100%;
            height: 3px;
            background-color: red;
        }
        .underlines {
            position: relative;
            color: green;
        }
        .underlines::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -5px;
            width: 100%;
            height: 3px;
            background-color: green;
        }
        .card-body {
            background: none;
            border: none;
            box-shadow: 0px 3px 8px rgba(0, 0, 0, 0.24);
            padding: 25px;
            border-left: 4px solid #0d6efd;
        }
        .divLoader {
            position: fixed;
            left: initial;
            top: 0%;
            width: 100%;
            height: 100%;
            z-index: 9999;
            background: #3a3737c9;
            opacity: 1;
        }
        .loader {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: inline-block;
            position: relative;
            border: 3px solid;
            border-color: #FFF #FFF transparent transparent;
            box-sizing: border-box;
            animation: rotation 1s linear infinite;
        }
        .loader::after,
        .loader::before {
            content: '';  
            box-sizing: border-box;
            position: absolute;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            margin: auto;
            border: 3px solid;
            border-color: transparent transparent #ed1115 #ed1115;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            box-sizing: border-box;
            animation: rotationBack 0.5s linear infinite;
            transform-origin: center center;
        }
        .loader::before {
            width: 32px;
            height: 32px;
            border-color: #FFF #FFF transparent transparent;
            animation: rotation 1.5s linear infinite;
        }
        @keyframes rotation {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        } 
        @keyframes rotationBack {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(-360deg);
            }
        }
        .nav-link.always-hover {
            background-color: white;    
            color: black !important;
            border-radius: 4px; 
        }
        .marquee-container {
            background-color: #212529;
            color: white;
            text-align: center;
        }
		.error{
			color: red;
		}
        #cycleImg{
        width: 40px;
        height: auto;
    }
    #cycleImg1{
        width: 55px;
        height: auto;
    }
    #footera{
    color: rgb(249 243 0);
    text-decoration: none;
}
   @media only screen and (max-width: 768px) { 
        .card-body {
            margin-bottom: 5rem;
         }
      }

    </style>
</head>
<body>
    <div class="block-page" id="overlay" style="display: none; background: rgba(255, 255, 255, 0.93) !important; text-align: center;">
        <div class="divLoader">
            <div class="" style="margin-top: 20rem;">
                <span class="loader"></span>
            </div>
            <p style="font-size: 15px; font-weight: bold; color: white; margin-bottom: 0px;">Processing Please Wait...</p>
        </div>
    </div>
    <!-- Bootstrap Header -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark d-flex">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Developer</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse d-contents" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active always-hover" href="#">Enrollment</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Datatable.html">DataTable</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="DriverEntrolment.html">Driver-Enrol</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="DriverDatatable.html">Driver-DTable</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="marquee-container">
        <marquee behavior="scroll" direction="right" scrollamount="8">
            Welcome to our website! We provide the best transport services.
            <img id="cycleImg"src="https://cdn.dribbble.com/users/24711/screenshots/2713076/bumpy_loader_2x.gif" alt="">
        </marquee>
    </div>
    <h3 class="text-center mt-4" style="color: #1b2f45; font-weight: bold;">Enrollment <span class="underline">'Transport'</span> Details </h3>
    <div class="container-fluid">
        <div class="card mt-4">
            <div class="card-body mb-5">
                <form id="dataForm">
                         <!-- Step 1: Purchase and Sales Details -->
    <div class="step">
        <div class="row">
            <!-- Purchase Section -->
            <div class="col-md-12 mb-2" style="text-align: center;">
                <h4 class="text-center mt-4" style="color: #1b2f45; font-weight: bold;">
                    <span class="underlines">PURCHASE-</span> Details
                </h4>
            </div>
            <div class="col-md-3 mb-3">
                <label for="vecNumber" class="form-label">Vec Number</label>
                <select class="form-select" id="vecNumber" name="vecNumber">
                    <option selected disabled>Select an Number</option>
                    <option value="TN 15 AX 1234">TN 15 AX 1234</option>
                    <option value="TN 15 AX 7777">TN 15 AX 7777</option>
                    <option value="TN 15 PA 0007">TN 15 PA 0007</option>
                </select>
            </div>
            <div class="col-md-3 mb-3">
                <label for="purchaseDate" class="form-label">Date</label>
                <input type="date" class="form-control" id="purchaseDate" name="purchaseDate" placeholder="Select Date">
            </div>
            <div class="col-md-3 mb-3">
                <label for="purchaseMillName" class="form-label">Mill Name</label>
                <input type="text" class="form-control" id="purchaseMillName" name="purchaseMillName" placeholder="Enter Mill Name">
            </div>
            <div class="col-md-3 mb-3">
                <label for="purchaseWeight" class="form-label">Weight</label>
                <input type="text" class="form-control only-numbers" id="purchaseWeight" name="purchaseWeight" placeholder="Enter Weight">
            </div>
            <div class="col-md-3 mb-3">
                <label for="purchaseRate" class="form-label">Rate</label>
                <input type="text" class="form-control only-numbers" id="purchaseRate" name="purchaseRate" placeholder="Enter Rate">
            </div>
            <div class="col-md-3 mb-3">
                <label for="loadingLabour" class="form-label">Loading Labour</label>
                <input type="text" class="form-control" id="loadingLabour" name="loadingLabour" placeholder="Enter Loading Labour">
            </div>
            <div class="col-md-3 mb-3">
                <label for="purchaseDriver" class="form-label">Driver</label>
                <input type="text" class="form-control" id="purchaseDriver" name="purchaseDriver" placeholder="Enter Driver Name">
            </div>
            <div class="col-md-12" style="text-align: end;">
                <button type="button" class="btn btn-secondary next-step">Next</button>
            </div>
        </div>
        
    </div>

    <!-- Step 2: Additional Details -->
    <div class="step">
        <div class="row">
            <!-- Sales Section -->
            <div class="col-md-12">
                <h4 class="text-center mt-4" style="color: #1b2f45; font-weight: bold;">
                    <span class="underlines">SALES-</span> Details
                </h4>
            </div>
            <div class="col-md-3 mb-3">
                <label for="salesDate" class="form-label">Date</label>
                <input type="date" class="form-control" id="salesDate" name="salesDate" placeholder="Select Date">
            </div>
            <div class="col-md-3 mb-3">
                <label for="salesMillName" class="form-label">Mill Name</label>
                <input type="text" class="form-control" id="salesMillName" name="salesMillName" placeholder="Enter Mill Name">
            </div>
            <div class="col-md-3 mb-3">
                <label for="salesWeight" class="form-label">Weight</label>
                <input type="text" class="form-control only-numbers" id="salesWeight" name="salesWeight" placeholder="Enter Weight">
            </div>
            <div class="col-md-3 mb-3">
                <label for="salesRate" class="form-label">Rate</label>
                <input type="text" class="form-control only-numbers" id="salesRate" name="salesRate" placeholder="Enter Rate">
            </div>
            <div class="col-md-3 mb-3">
                <label for="unloadingLabour" class="form-label">Unload Labour</label>
                <input type="text" class="form-control" id="unloadingLabour" name="unloadingLabour" placeholder="Enter Unloading Labour">
            </div>
            <div class="col-md-3 mb-3">
                <label for="salesDriver" class="form-label">Driver</label>
                <input type="text" class="form-control" id="salesDriver" name="salesDriver" placeholder="Enter Driver Name">
            </div>
            <div class="col-md-12">
                <hr>
            </div>
            <div class="col-md-3 mb-3">
                <label for="startKM" class="form-label">Start KM</label>
                <input type="text" class="form-control only-numbers" id="startKM" name="startKM" placeholder="Enter Start KM">
            </div>
            <div class="col-md-3 mb-3">
                <label for="endKM" class="form-label">End KM</label>
                <input type="text" class="form-control only-numbers" id="endKM" name="endKM" placeholder="Enter End KM">
            </div>
            <div class="col-md-3 mb-3">
                <label for="runningKM" class="form-label">Running KM</label>
                <input type="text" class="form-control only-numbers" id="runningKM" name="runningKM" placeholder="Enter Running KM">
            </div>
            <div class="col-md-3 mb-3">
                <label for="diesel" class="form-label">Diesel</label>
                <input type="text" class="form-control only-numbers" id="diesel" name="diesel" placeholder="Enter Diesel">
            </div>
            <div class="col-md-3 mb-3">
                <label for="mileage" class="form-label">Mileage</label>
                <input type="text" class="form-control only-numbers" id="mileage" name="mileage" placeholder="Enter Mileage">
            </div>
            <div class="col-md-12" style="text-align: end;">
                <button type="button" class="btn btn-secondary prev-step">Previous</button>
                 <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        </div>
        
    </div>
</form>

<footer class="fixed-bottom text-center" style="background-color: #000000;">    
    Copyright ©<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with 
    <i class="ion-ios-heart" aria-hidden="true"></i> by 
    <a id="footera" href="" target="_blank">AX-Developers </a>
    <img id="cycleImg1" src="https://i.pinimg.com/originals/81/17/8b/81178b47a8598f0c81c4799f2cdd4057.gif" alt=""> 
</footer>
<!-- Include Bootstrap, jQuery, jQuery Validation, and SweetAlert2 libraries -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
$(document).ready(function() {
    // Wizard navigation
    const steps = $('.step');
    let currentStep = 0;

    $('.next-step').click(function() {
        if ($("#dataForm").valid()) {
            steps.eq(currentStep).hide();
            currentStep++;
            steps.eq(currentStep).show();
        }
    });

    $('.prev-step').click(function() {
        steps.eq(currentStep).hide();
        currentStep--;
        steps.eq(currentStep).show();
    });

    steps.not(':first').hide();

    // jQuery Validation
    $("#dataForm").validate({
        rules: {
            vecNumber: "required",
            purchaseDate: "required",
            purchaseMillName: "required",
            purchaseWeight: "required",
            purchaseRate: "required",
            loadingLabour: "required",
            purchaseDriver: "required",
            salesDate: "required",
            salesMillName: "required",
            salesWeight: "required",
            salesRate: "required",
            unloadingLabour: "required",
            salesDriver: "required",
            startKM: "required",
            endKM: "required",
            runningKM: "required",
            diesel: "required",
            mileage: "required"
        },
        messages: {
            vecNumber: "Please select a VecNumber",
            purchaseDate: "Please select a date",
            purchaseMillName: "Please enter mill name",
            purchaseWeight: "Please enter weight",
            purchaseRate: "Please enter rate",
            loadingLabour: "Please enter loading labour",
            purchaseDriver: "Please enter driver name",
            salesDate: "Please select a date",
            salesMillName: "Please enter mill name",
            salesWeight: "Please enter weight",
            salesRate: "Please enter rate",
            unloadingLabour: "Please enter unloading labour",
            salesDriver: "Please enter driver name",
            startKM: "Please enter start KM",
            endKM: "Please enter end KM",
            runningKM: "Please enter running KM",
            diesel: "Please enter diesel",
            mileage: "Please enter mileage"
        },
        submitHandler: function(form) {
            // Store form data in variables
            const data = {
                vecNumber: $('#vecNumber').val(),
                purchaseDate: $('#purchaseDate').val(),
                purchaseMillName: $('#purchaseMillName').val(),
                purchaseWeight: $('#purchaseWeight').val(),
                purchaseRate: $('#purchaseRate').val(),
                loadingLabour: $('#loadingLabour').val(),
                purchaseDriver: $('#purchaseDriver').val(),
                salesDate: $('#salesDate').val(),
                salesMillName: $('#salesMillName').val(),
                salesWeight: $('#salesWeight').val(),
                salesRate: $('#salesRate').val(),
                unloadingLabour: $('#unloadingLabour').val(),
                salesDriver: $('#salesDriver').val(),
                startKM: $('#startKM').val(),
                endKM: $('#endKM').val(),
                runningKM: $('#runningKM').val(),
                diesel: $('#diesel').val(),
                mileage: $('#mileage').val()
            };

            // Show overlay during submission
            showOverlay();

            // Submit data to Google Apps Script
            const url = 'https://script.google.com/macros/s/AKfycbypsUC23pa0lSrJ8gCkmWfV4vnZJ_AfM_A_uM7WWVRy1hdgD7lDccMEN6qYqkOQIb5-HA/exec';
            fetch(url, {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(() => {
                hideOverlay();
                Swal.fire({
                    title: 'Success!',
                    text: 'Enrollment completed successfully.',
                    icon: 'success',
                    confirmButtonText: 'OK',
                    allowOutsideClick: false,
                }).then(() => {
                    // Reset the form fields after successful submission
                    $(form).trigger('reset');
                });
            })
            .catch(error => {
                hideOverlay();
                Swal.fire({
                    title: 'Error!',
                    text: 'Error: ' + error.message,
                    icon: 'error',
                    confirmButtonText: 'OK',
                    allowOutsideClick: false,
                });
            });
        }
    });

    // Input restrictions
    document.querySelectorAll('.only-numbers').forEach(function (input) {
        input.addEventListener('input', function () {
            input.value = input.value.replace(/[^0-9]/g, '');
        });
    });

    document.querySelectorAll('.only-letters').forEach(function (input) {
        input.addEventListener('input', function () {
            input.value = input.value.replace(/[^a-zA-Z]/g, '');
        });
    });

    document.querySelectorAll('.to-uppercase').forEach(function (input) {
        input.addEventListener('input', function () {
            input.value = input.value.replace(/[^a-zA-Z0-9]/g, '').toUpperCase();
        });
    });

    // Overlay functions
    function showOverlay() {
        $('#overlay').css('display', 'block');
    }

    function hideOverlay() {
        $('#overlay').css('display', 'none');
    }
});
</script>

</body>
</html>
